import{Q as k,R as G,S as z,z as A,T as J,U as K,g as V,V as P,W as j,X as ee,Y,Z as D,_ as x,$ as re,a0 as ae,a1 as L,M as ne,a2 as b,a3 as O,a4 as fe,a5 as U,m as le,a6 as F,a7 as ie,a8 as se,a9 as oe,aa as ue,ab as B,ac as Q,ad as H,ae as te,af as de,ag as ce}from"./DpaI2pEy.js";import{w as ve}from"./0LG3Yr90.js";function pe(e,l,f){for(var u=[],c=l.length,i,s=l.length,a=0;a<c;a++){let o=l[a];Q(o,()=>{if(i){if(i.pending.delete(o),i.done.add(o),i.pending.size===0){var v=e.outrogroups;y(F(i.done)),v.delete(i),v.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var t=u.length===0&&f!==null;if(t){var n=f,d=n.parentNode;de(d),d.append(n),e.items.clear()}y(l,!t)}else i={pending:new Set(l),done:new Set},(e.outrogroups??=new Set).add(i)}function y(e,l=!0){for(var f=0;f<e.length;f++)ce(e[f],l)}var X;function Me(e,l,f,u,c,i=null){var s=e,a=new Map;{var t=e;s=A?z(J(t)):t.appendChild(k())}A&&K();var n=null,d=P(()=>{var p=f();return ie(p)?p:p==null?[]:F(p)}),o,v=!0;function C(){_.fallback=n,ge(_,o,s,l,u),n!==null&&(o.length===0?(n.f&b)===0?B(n):(n.f^=b,R(n,null,s)):Q(n,()=>{n=null}))}var r=G(()=>{o=V(d);var p=o.length;let E=!1;if(A){var h=j(s)===ee;h!==(p===0)&&(s=Y(),z(s),D(!1),E=!0)}for(var I=new Set,M=ne,S=fe(),T=0;T<p;T+=1){A&&x.nodeType===re&&x.data===ae&&(s=x,E=!0,D(!1));var N=o[T],g=u(N,T),m=v?null:a.get(g);m?(m.v&&L(m.v,N),m.i&&L(m.i,T),S&&M.skipped_effects.delete(m.e)):(m=he(a,v?s:X??=k(),N,g,T,c,l,f),v||(m.e.f|=b),a.set(g,m)),I.add(g)}if(p===0&&i&&!n&&(v?n=O(()=>i(s)):(n=O(()=>i(X??=k())),n.f|=b)),A&&p>0&&z(Y()),!v)if(S){for(const[Z,$]of a)I.has(Z)||M.skipped_effects.add($.e);M.oncommit(C),M.ondiscard(()=>{})}else C();E&&D(!0),V(d)}),_={effect:r,items:a,outrogroups:null,fallback:n};v=!1,A&&(s=x)}function ge(e,l,f,u,c){var i=l.length,s=e.items,a=e.effect.first,t,n=null,d=[],o=[],v,C,r,_;for(_=0;_<i;_+=1){if(v=l[_],C=c(v,_),r=s.get(C).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&b)!==0)if(r.f^=b,r===a)R(r,null,f);else{var p=n?n.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,n,r),w(e,r,p),R(r,p,f),n=r,d=[],o=[],a=n.next;continue}if((r.f&H)!==0&&B(r),r!==a){if(t!==void 0&&t.has(r)){if(d.length<o.length){var E=o[0],h;n=E.prev;var I=d[0],M=d[d.length-1];for(h=0;h<d.length;h+=1)R(d[h],E,f);for(h=0;h<o.length;h+=1)t.delete(o[h]);w(e,I.prev,M.next),w(e,n,I),w(e,M,E),a=E,n=M,_-=1,d=[],o=[]}else t.delete(r),R(r,a,f),w(e,r.prev,r.next),w(e,r,n===null?e.effect.first:n.next),w(e,n,r),n=r;continue}for(d=[],o=[];a!==null&&a!==r;)(t??=new Set).add(a),o.push(a),a=a.next;if(a===null)continue}(r.f&b)===0&&d.push(r),n=r,a=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(y(F(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||t!==void 0){var S=[];if(t!==void 0)for(r of t)(r.f&H)===0&&S.push(r);for(;a!==null;)(a.f&H)===0&&a!==e.fallback&&S.push(a),a=a.next;var T=S.length;if(T>0){var N=i===0?f:null;pe(e,S,N)}}}function he(e,l,f,u,c,i,s,a){var t=(s&se)!==0?(s&oe)===0?le(f,!1,!1):U(f):null,n=(s&ue)!==0?U(c):null;return{v:t,i:n,e:O(()=>(i(l,t??f,n??c,a),()=>{e.delete(u)}))}}function R(e,l,f){if(e.nodes)for(var u=e.nodes.start,c=e.nodes.end,i=l&&(l.f&b)===0?l.nodes.start:f;u!==null;){var s=te(u);if(i.before(u),u===c)return;u=s}}function w(e,l,f){l===null?e.effect.first=f:l.next=f,f===null?e.effect.last=l:f.prev=l}const q={open:!1,title:"",desc:"",src:"",mediaType:"image"};function _e(){const{subscribe:e,set:l}=ve(q);return{subscribe:e,openModal:(f,u,c,i="image")=>l({open:!0,title:f,desc:u,src:c,mediaType:i}),closeModal:()=>l({...q})}}const W=_e(),Te=(e,l,f,u="image")=>W.openModal(e,l,f,u),we=()=>W.closeModal();export{we as c,Me as e,W as m,Te as o};
